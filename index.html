<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tu castillo</title>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Quicksand&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      padding: 0;
      font-family: 'Quicksand', sans-serif;
      background-color: #fdf6f9;
      overflow-x: hidden;
    }
    h1 {
      font-family: 'Great Vibes', cursive;
      font-size: 3em;
      text-align: center;
      color: #e86c9a;
      margin-top: 1em;
      text-shadow: 2px 2px 5px rgba(0,0,0,0.1);
    }
    .castillo-section {
      padding: 2em 0;
    }
    .castillo-container {
      position: relative;
      width: 100%;
      height: 100%;  /* altura completa de pantalla */
      overflow: hidden;
    }

    .castillo-img {
      width: 100%;
      height: 100%;
      object-fit: cover; /* estira sin deformar la imagen */
      display: block;
    }
    .calendario {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    .dia {
      position: absolute;
      width: 55px;
      height: 55px;
      text-align: center;
      cursor: pointer;
      transition: transform 0.3s, box-shadow 0.5s;
    }
    .mitad {
      position: absolute;
      width: 50%;
      height: 100%;
      top: 0;
      background-color: #fdf6f9;
      z-index: 1;
      transition: transform 1s;
    }
    .izquierda { left: 0; border-radius: 10px 0 0 10px; }
    .derecha { right: 0; border-radius: 0 10px 10px 0; }
    .dia.abierto .izquierda {
      transform: translateX(-100%);
    }
    .dia.abierto .derecha {
      transform: translateX(100%);
    }
    .numero-dia {
      position: relative;
      z-index: 2;
      font-weight: bold;
      line-height: 70px;
      color: #fff;
    }
    .dia:hover .mitad {
      background-color: #ffe4ec;
    }
    .bloqueado {
      pointer-events: auto; /* <-- Permite que reciba eventos para animaci√≥n */
    }
    
    .brillo {
      animation: brillar 1s ease-in-out;
    }
    @keyframes brillar {
      0% { box-shadow: 0 0 0px #fff; }
      50% { box-shadow: 0 0 20px 8px #ffd6e8; }
      100% { box-shadow: 0 0 0px #fff; }
    }
    .contenido-dia {
      opacity: 0;
      transition: opacity 1s ease;
      background: #fff;
      padding: 2em;
      border-radius: 20px;
      max-width: 600px;
      margin: 4em auto;
      font-size: 1.2em;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
    }
    .contenido-dia.mostrar {
      opacity: 1;
    }
    .fondo-revelado {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0; /* debajo de los paneles */
      opacity: 0;
      transition: opacity 0.5s ease;
    }
    .dia.abierto .fondo-revelado {
      display: block;
      opacity: 1;
    }

    .puerta-especial .izquierda {
      transform-origin: left center;
    }
    .puerta-especial .derecha {
      transform-origin: right center;
    }
    .puerta-especial.abierto .izquierda {
      transform: rotateY(-100deg);
    }
    .puerta-especial.abierto .derecha {
      transform: rotateY(100deg);
    }

    .puerta-dia-16 {
      width: 78px !important;
      height: 88px !important;
    }
    .puerta-dia-16 .izquierda {
      border-top-left-radius: 30px;
      border-bottom-left-radius: 0;
    }
    .puerta-dia-16 .derecha {
      border-top-right-radius: 30px;
      border-bottom-right-radius: 0px;
    }
    
    .fondo-dia-16 {
      border-top-left-radius: 30px;
      border-top-right-radius: 30px;
      box-shadow: 0 -4px 12px rgba(255, 192, 203, 0.6);
    }

    .puerta-dia-1 {
      width: 55px !important;
      height: 55px !important;
    }
    .puerta-dia-1 .izquierda {
      border-top-left-radius: 10px;
      border-bottom-left-radius: 0;
    }
    .puerta-dia-1 .derecha {
      border-top-right-radius: 10px;
      border-bottom-right-radius: 0px;
    }
    .fondo-dia-1 {
      border-top-left-radius: 10px;
      border-top-right-radius: 10px;
    }

    @keyframes temblorEstrella {
      0% { transform: scale(1) rotate(0deg); }
      20% { transform: scale(1.05) rotate(1deg); }
      40% { transform: scale(0.95) rotate(-1deg); }
      60% { transform: scale(1.05) rotate(1deg); }
      80% { transform: scale(0.95) rotate(-1deg); }
      100% { transform: scale(1) rotate(0deg); }
    }

    .temblor {
      animation: temblorEstrella 0.6s ease;
    }

    .candado {
      position: absolute;
      z-index: 3;
      font-size: 1.8em;
      top: 10px;
      left: 10px;
      opacity: 1;
      transition: opacity 0.5s ease;
      animation: flotarCandado 2s infinite ease-in-out;
      text-shadow: 0 0 5px #ffcce7, 0 0 10px #ffccff;
    }

    @keyframes flotarCandado {
      0% { transform: translateY(0); }
      50% { transform: translateY(-4px); }
      100% { transform: translateY(0); }
    }

    /* Oculta el n√∫mero si est√° bloqueado */
    .bloqueado .numero-dia {
      opacity: 0;
    }

    /* Oculta el candado cuando est√° desbloqueado */
    .dia:not(.bloqueado) .candado {
      opacity: 0;
      pointer-events: none;
    }
    
    .contenido-dia {
      font-family: 'Great Vibes';
      font-size: 1.5em;
      line-height: 1.6;
      background: radial-gradient(circle at top left, #ffe4ec, #ffdce9);
      padding: 2em;
      border-radius: 40px 40px 40px 40px;
      box-shadow: 0 0 25px rgba(255, 172, 204, 0.5);
      border: 4px double #f8a3c4;
      max-width: 600px;
      margin: 4em auto;
      opacity: 0;
      transform-origin: top center;
      transform: scaleY(0);
      transition: none; /* la animaci√≥n se encargar√° */
    }

    @keyframes desenrollarPapiro {
      0% {
        transform: scaleY(0);
        opacity: 0;
      }
      60% {
        transform: scaleY(1.05);
        opacity: 1;
      }
      100% {
        transform: scaleY(1);
        opacity: 1;
      }
    }

    .contenido-dia.mostrar {
      animation: desenrollarPapiro 1.2s ease-out forwards;
    }

  </style>
</head>
<body>
  <h1>üåô Bienvenida a tu calendario adviento ‚ú®</h1>
  <section class="castillo-section">
    <div class="castillo-container">
      <img src="backgrounds/castle.jpg" alt="castillo" class="castillo-img">
      <div class="calendario" id="calendario"></div>
    </div>
  </section>

  <div class="contenido-dia" id="contenido-dia"></div>

  <script>
    const hoy = new Date();
    const dias = [
      'Bienvenida al reino del amor', 'Colores de tu coraz√≥n', 'Juego de preguntas', 'Cortometraje de amor',
      'Nuestra playlist encantada', 'Rompecabezas de recuerdos', 'Princesa por un d√≠a', 'Una visita especial',
      'Pel√≠cula al coraz√≥n', 'Origami cuteee', 'El Reino celebra tu luz: video', 'Cuento interactivo',
      'Juego constelaciones de nosotros', 'Carrusel de los sue√±os', '√Ålbum digital', 'Inmersi√≥n al universoo'
    ];

    const coloresVentana = [
      '#f0acd3', '#d7c519', '#bf4689', '#864dac', '#bf4689', '#864dac',
      '#d7c519', '#864dac', '#bf4689', '#d7c519', '#d7c519', '#bf4689',
      '#864dac', '#d7c519', '#bf4689', '#DA70D6'
    ];

    const coloresNumeroOscuro = [
      '#ab0e67', '#cab528', '#ab0e67', '#631e79', '#ab0e67', '#631e79',
      '#cab528', '#631e79', '#ab0e67', '#cab528', '#cab528', '#ab0e67',
      '#631e79', '#cab528', '#ab0e67', '#ab0e67'
    ];

    const posiciones = [
      [66, 56.7], [45.3, 22], [55.9, 33], [27.8, 45.1], [44, 63.1], [36, 71.1],
      [18.05, 61.6], [27.8, 54.8], [52.4, 63.1], [78.23, 61.6], [18.05, 71.2], [37.44, 42],
      [60.3, 71.1], [78.23, 71.2], [37.44, 54], [47.44, 72.2]
    ];

    const calendario = document.getElementById('calendario');
    const contenidoDia = document.getElementById('contenido-dia');

    const contenidosPorDia = {
      1: {
        titulo: "Bienvenida al Reino del amor: <br> Colores de tu coraz√≥n",
        html: 
        ` <p>‚ú® Holaa, mi amor... todo este tiempo como princesa nunca te he dado un castillo, pero s√≠ un reino. As√≠ este es tu hermoso castillo, donde cada d√≠a se abrir√° una luz con magia, amor, sue√±os y sobre todo muchos regalos.</p>
          <p> As√≠ que, cada d√≠a, regresa a las 8 p.m. y descubrir√°s todo lo que he planeado para t√≠. Espero te encante y tengas un hermoso viaje. Te amooo. üíñ </p>
          
          <p>Para el d√≠a de hoy, porqu√© no empezamos viendo qui√©n es la m√°s hermosa princesa. Alista tus colores, que as√≠ empieza tu reinado. üëë</p>

          <p> Sigue este link que te llevar√° al lugar donde ¬°los colores se vuelven reales!</p>
          <a href="https://magma.com/d/wCIjJa4GDu" target="_blank" style="font-weight:bold; color: #e86c9a;">üé® Ir a Magma</a>

          <p>üëë Puedes descargar tu dibujo como princesa aqu√≠:</p>
          <a href="imagenes/princesa.png" download>‚¨áÔ∏è Descargar dibujo</a>
        `
      },

      2: {
        titulo: "Un corto poema üíå: <br> Eres ",
        html: `
          <p>Eres vida en mi ser. <br>
          Eres mucho en mi ser. <br>
          Eres mi primer aliento, <br>
          mi primer pensamiento.<br>
          </p>
          <p>Eres vida en mi ser, <br>
          color de mi existencia, <br>
          br√∫jula hacia mi rumbo,<br>
          eres mi luna perfecta.<br>
          </p>
          <p>Perfecta, o no perfecta,<br> 
          eres t√∫ quien me llena:<br>
          aire de mis pulmones,<br>
          eres vida en mi ser.<br>
          </p>
          <p>Sinfon√≠a de mi coraz√≥n, <br>
          mis pies van a tu voz.<br>
          Eres vida en mi ser,<br>
          y mi alma va a tu esplendor. <br>
          </p>
          <p>Eres paz a mis tormentos,<br>
          eres luz en mi noche,<br>
          refugio a mis miedos<br>
          y calma a mis temores.<br>
          </p>
          <p>Eres vida en mi ser.<br>
          Eres mucho en mi ser.<br>
          Eres vida en mi vida,<br>
          eres mi ser, mi vida.<br>
          </p>          
        
        `
      },
      

      // ...contin√∫a con los d√≠as restantes
      11: {
        titulo: "El Reino celebra tu luz: tu cumplea√±os",
        html: `
          <p>üéÇ Hoy todo el castillo canta: ¬°Feliz cumplea√±os, mi amor!</p>
          <video controls style="width: 100%;" src="videos/cumpleanito.mp4"></video>
        `
      },
      16: {
        titulo: "Inmersi√≥n al universo üåå",
        html: `
          <p>Hoy viajamos entre constelaciones. Mira el cielo y piensa que te abrazo desde Saturno... üå†</p>
          <iframe src="https://starwalk.space" style="width:100%; height:400px; border:none; border-radius:20px;"></iframe>
        `
      }
    };


    dias.forEach((nombre, index) => {
      const dia = document.createElement('div');
      dia.classList.add('dia');
      const numero = index + 1;
      dia.style.top = posiciones[index][1] + '%';
      dia.style.left = posiciones[index][0] + '%';

      const izq = document.createElement('div');
      izq.classList.add('mitad', 'izquierda');
      const der = document.createElement('div');
      der.classList.add('mitad', 'derecha');

      const num = document.createElement('span');
      num.classList.add('numero-dia');
      num.textContent = `D√≠a ${numero}`;

      const candado = document.createElement('span');
      candado.classList.add('candado');
      candado.innerHTML = 'üîí';

      izq.style.backgroundColor = coloresVentana[index];
      der.style.backgroundColor = coloresVentana[index];
      const fondo = document.createElement('div');
      fondo.classList.add('fondo-revelado');
      fondo.style.backgroundColor = coloresNumeroOscuro[index];
      fondo.style.display = 'none'; // oculto al inicio
      
      if (numero === 16) {
          dia.classList.add('puerta-dia-16');
          fondo.classList.add('fondo-dia-16');
        }
      if (numero === 1) {
          dia.classList.add('puerta-dia-1')
          fondo.classList.add('fondo-dia-1');
        }
      if (numero === 1 || numero === 16) {
        dia.classList.add('puerta-especial');
      }

      // Solo si es el d√≠a 2 (√≠ndice 1)
      dia.appendChild(fondo);
      dia.appendChild(izq);
      dia.appendChild(der);
      dia.appendChild(num);
      dia.appendChild(candado);


      const fechasDesbloqueo = [
        new Date('2025-07-01T20:00:00'), // D√≠a 1
        new Date('2025-07-02T20:00:00'), // D√≠a 2
        new Date('2025-07-03T20:00:00'), // D√≠a 3
        new Date('2025-07-04T20:00:00'), // D√≠a 4
        new Date('2025-07-05T20:00:00'), // D√≠a 5
        new Date('2025-07-06T20:00:00'), // D√≠a 6
        new Date('2025-07-07T20:00:00'), // D√≠a 7
        new Date('2025-07-08T20:00:00'), // D√≠a 8
        new Date('2025-07-09T20:00:00'), // D√≠a 9
        new Date('2025-07-10T20:00:00'), // D√≠a 10
        new Date('2025-07-11T20:00:00'), // D√≠a 11
        new Date('2025-07-12T20:00:00'), // D√≠a 12
        new Date('2025-07-13T20:00:00'), // D√≠a 13
        new Date('2025-07-14T20:00:00'), // D√≠a 14
        new Date('2025-07-15T20:00:00'), // D√≠a 15
        new Date('2025-07-16T20:00:00'), // D√≠a 16
      ];

      const ahora = new Date();
      const fechaLimite = fechasDesbloqueo[index];
      if (ahora < fechaLimite) {
        dia.classList.add('bloqueado');
      }

      dia.addEventListener('click', () => {
               
        if (ahora < fechaLimite) {
          dia.classList.add('temblor');
          setTimeout(() => dia.classList.remove('temblor'), 600);
          alert("‚ú® Ey ey ey... ¬øQu√© haces mi amor? A√∫n no ha llegado el d√≠a :'3. Esperate tantito hasta despu√©s. TE AMOOOOO ‚ú®");
          return;
        }
        
        dia.classList.add('abierto');
        dia.classList.add('brillo');
        fondo.style.display = 'block';
        fondo.style.opacity = '1';
        setTimeout(() => mostrarContenido(numero, nombre), 1200);
        
      });

      calendario.appendChild(dia);
    });

    
    function mostrarContenido(numero, nombre) {
      const contenido = contenidosPorDia[numero];

      if (!contenido) {
        contenidoDia.innerHTML = `<h2>${nombre}</h2><p>Contenido a√∫n no preparado üåü</p>`;
      } else {
        contenidoDia.innerHTML = `
          <h2>${contenido.titulo}</h2>
          ${contenido.html}
        `;
      }

      contenidoDia.style.display = 'block';
      contenidoDia.classList.remove('mostrar');
      void contenidoDia.offsetWidth;
      contenidoDia.classList.add('mostrar');
      contenidoDia.scrollIntoView({ behavior: 'smooth' });

            // Si el d√≠a abierto es el 2, reproduce los audios
      if (numero === 2) {
        const audio1 = document.getElementById('audio-poema-1');
        const audio2 = document.getElementById('audio-poema-2');
        const audio3 = document.getElementById('audio-poema-3')
        audio1.currentTime = 0;
        audio2.currentTime = 0;
        audio3.currentTime = 0;

        audio1.volume = 0.15; // Volumen ajustado para fondo suave
        audio2.volume = 0.1; // Volumen muy bajo para ambiente
        audio3.volume = 0.3;

        // Reproduce ambos
        const playAudio = (audio) => {
          const playPromise = audio.play();
          if (playPromise !== undefined) {
            playPromise.catch(error => {
              console.log('Audio bloqueado por el navegador hasta que haya una interacci√≥n.');
            });
          }
        };

        playAudio(audio1);
        playAudio(audio2);
        setTimeout(() => playAudio(audio3), 1000);
      } else {
        // Si no es el d√≠a 2, pausa y reinicia los audios
        const audio1 = document.getElementById('audio-poema-1');
        const audio2 = document.getElementById('audio-poema-2');
        const audio3 = document.getElementById('audio-poema-3');
        audio1.pause();
        audio2.pause();
        audio3.pause();
        audio1.currentTime = 0.5;
        audio2.currentTime = 0.5;
        audio3.currentTime = 0.5;
      }

    }

  </script>
  <audio id="audio-poema-1" src="music/553821__ekvelika__chonology-of-love.wav" preload="auto" loop></audio>
  <audio id="audio-poema-2" src="music/795811__ncveticanin__birds-singing.wav" preload="auto" loop></audio>
  <audio id="audio-poema-3" src="music/eres.mp3" preload="auto"></audio>
</body>
</html>

